<!DOCTYPE html>
<html lang="en">

<head>
  <title></title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <h1>Delete them all</h1>


  <form id="form">
    <input id="input" placeholder="file path" />
    <button>Delete file</button>
  </form>

  <script>
    let inputElement = document.querySelector("input");

    async function deleteRequest(path) {
      let response = await fetch(path, {method: 'DELETE', 'Referer': 'http://localhost:5000/'});

      if (!response.ok)
        alert("failure deleting resource");
      else
        alert("success delete resource");

    }

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      if (inputElement.value == "") {
        alert("file path input is empty");
        return;
      }

      await deleteRequest(inputElement.value);

    })
  </script>

</body>

</html>
